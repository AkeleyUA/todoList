(this.webpackJsonphomework4=this.webpackJsonphomework4||[]).push([[0],{232:function(e,t,a){e.exports=a(427)},237:function(e,t,a){},238:function(e,t,a){},243:function(e,t,a){},427:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),l=a.n(o),i=(a(237),a(238),a(90)),c=a(24),s=a(20),m=a(84),d=a(41),u=a(181),p=a(182),E=a(198),h=(a(243),a(43)),v=a(464),g=a(448),b=a(91),f=a(92),T=a(450),k=function(e){var t=e.closeModal,a=e.modalIsOpen;return r.a.createElement(v.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:a,onClose:t},r.a.createElement("div",{style:{position:"absolute",top:"30%",left:"30%",width:600,height:100,background:b.a[50],border:"2px solid #000",padding:20}},r.a.createElement("h2",{id:"simple-modal-title",style:{color:f.a[500]}},"Empty task name"),r.a.createElement("p",{id:"simple-modal-description"},"Your are tring close your task without name, enter the title and try again!"),r.a.createElement(g.a,{style:{color:T.a[500],position:"absolute",bottom:15,right:15},onClick:t},"Close")))},y=a(93),I=a(451),S=a(452),O=a(453),A=a(454),C=a(455),_=function(e){var t=e.tasks,a=e.timeToString,n=e.deleteTask;return r.a.createElement("div",{className:"tabs-main"},r.a.createElement(I.a,{className:"tasks-log"},r.a.createElement(S.a,null,r.a.createElement(O.a,null,r.a.createElement(A.a,{variant:"body"},"\u2116"),r.a.createElement(A.a,{variant:"body"},"Task"),r.a.createElement(A.a,{variant:"body"},"Time start"),r.a.createElement(A.a,{variant:"body"},"Time end"),r.a.createElement(A.a,{variant:"body"},"Time spend"),r.a.createElement(A.a,{variant:"body"},"Info"),r.a.createElement(A.a,{variant:"body"},"Delete"))),r.a.createElement(C.a,{style:{color:y.a[900]}},t.map((function(e,t){return e.isCompleted?r.a.createElement(O.a,{id:e.id,key:e.id,style:{background:y.a[100]}},r.a.createElement(A.a,{variant:"head"},r.a.createElement("div",null,t+1)),r.a.createElement(A.a,{variant:"head"},r.a.createElement("div",null,e.name)),r.a.createElement(A.a,{variant:"head"},r.a.createElement("div",null,new Date(e.start).toLocaleTimeString())),r.a.createElement(A.a,{variant:"head"},r.a.createElement("div",null,new Date(e.end).toLocaleTimeString())),r.a.createElement(A.a,{variant:"head"},r.a.createElement("div",null,a(e.spend))),r.a.createElement(A.a,{variant:"head"},r.a.createElement(g.a,{style:{background:b.a[50],borderRadius:0},type:"button",color:"primary",component:c.b,to:"task/".concat(e.id)},"Info")),r.a.createElement(A.a,{variant:"head"},r.a.createElement(g.a,{style:{background:b.a[50],borderRadius:0},type:"button",onClick:function(){n(e.id)},color:"primary"},"Delete"))):null})))))},w=a(45),N=function(e){var t=e.data,a=e.tasksGenerator;return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.e,{height:430},r.a.createElement(w.b,{data:t,margin:{top:50,right:20,bottom:50,left:20}},r.a.createElement(w.c,{strokeDasharray:"3 3"}),r.a.createElement(w.f,{dataKey:"hour",domain:[0,24]}),r.a.createElement(w.g,{domain:[0,60]}),r.a.createElement(w.d,null),r.a.createElement(w.a,{name:"Minuts in this hours",dataKey:"duration",fill:y.a[900],width:30}))),r.a.createElement(g.a,{style:{position:"fixed",bottom:50,right:50},variant:"contained",onClick:a},"generate"))},L=a(456),D=a(457),R=a(465),M=a(461),V=a(462),j=a(459),x=function(e){var t=e.error,a=e.varificationInput,n=e.tabValue,o=e.timerBtnValue,l=e.inputRef,i=e.timeToString,s=e.addInterval,m=e.removeInterval,d=e.tabMainLog,u=e.tabMainChart,p=e.timer;return r.a.createElement("div",{style:{height:1e3}},r.a.createElement(L.a,{container:!0,direction:"column",justify:"center",alignItems:"center",style:{maxWidth:1440,margin:"0 auto"}},r.a.createElement(D.a,{maxWidth:!1,className:"task-init"},r.a.createElement(R.a,{id:"standard-basic",style:{width:"300px",margin:"0 auto",display:"flex"},error:t,inputProps:{ref:l,className:"input-task-name",style:{color:t?f.a[500]:y.a[900],textAlign:"center"}},fullWidth:!0,placeholder:"Name of your task",onChange:a}),r.a.createElement(M.a,{className:"circle",color:"primary.main",fontWeight:"500",fontSize:20},r.a.createElement("p",{className:"time"},i(p))),r.a.createElement(g.a,{variant:"text",color:"primary",type:"button",onClick:"start"===o?s:m,style:{margin:"0 auto 30px auto",display:"flex",boxShadow:"0 0 3px rgba(0, 0, 0, 0.3)"}},o)),r.a.createElement(V.a,{style:{width:"100%",background:T.a[700]},variant:"fullWidth",value:n},r.a.createElement(j.a,{style:{color:b.a[50]},label:"Tasks log",component:c.b,to:"/todoList/"}),r.a.createElement(j.a,{style:{color:b.a[50]},label:"Tasks chart",component:c.b,to:"/todoList/tasks-chart"})),r.a.createElement(h.a,{exact:!0,path:"/todoList/",component:d}),r.a.createElement(h.a,{path:"/todoList/tasks-chart",component:u})))},B=a(463),U=function(e){var t=e.paramsId;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{severity:"error",style:{margin:30}},"A task with id:",t,"does not exist."),r.a.createElement("div",{style:{maxWidth:1440,margin:"0 auto",textAlign:"center",padding:"30px 0"}},r.a.createElement(g.a,{style:{background:b.a[50],boxShadow:"0 0 3px rgba(0, 0, 0, 0.3)"},size:"large",type:"button",color:"primary",component:c.b,to:"/todoList/"},"Home")))},F=function(e){var t=e.deleteTask,a=e.task,n=e.timeToString;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{className:"tasks-log",style:{maxWidth:1440,margin:"0 auto"}},r.a.createElement(S.a,null,r.a.createElement(O.a,null,r.a.createElement(A.a,{variant:"body"},"ID"),r.a.createElement(A.a,{variant:"body"},"Task"),r.a.createElement(A.a,{variant:"body"},"Time start"),r.a.createElement(A.a,{variant:"body"},"Time end"),r.a.createElement(A.a,{variant:"body"},"Time spend"),r.a.createElement(A.a,{variant:"body"},"Delete"))),r.a.createElement(C.a,{style:{color:y.a[900]}},r.a.createElement(O.a,{id:a.id,style:{background:y.a[100]}},r.a.createElement(A.a,{variant:"head"},r.a.createElement("div",null,a.id)),r.a.createElement(A.a,{variant:"head"},r.a.createElement("div",null,a.name)),r.a.createElement(A.a,{variant:"head"},r.a.createElement("div",null,new Date(a.start).toLocaleTimeString())),r.a.createElement(A.a,{variant:"head"},r.a.createElement("div",null,new Date(a.end).toLocaleTimeString())),r.a.createElement(A.a,{variant:"head"},r.a.createElement("div",null,n(a.spend))),r.a.createElement(A.a,{variant:"head"},r.a.createElement(g.a,{style:{background:b.a[50],borderRadius:0},type:"button",component:c.b,onClick:function(){t(a.id)},to:"/",color:"primary"},"Delete"))))),r.a.createElement("div",{style:{width:"100%",textAlign:"center",padding:"30px 0"}},r.a.createElement(g.a,{style:{background:b.a[50],boxShadow:"0 0 3px rgba(0, 0, 0, 0.3)"},size:"large",type:"button",color:"primary",component:c.b,to:"/todoList/"},"Home")))},G=a(22),H=function(e){return{type:"TIMER_BTN_CHANGE_VALUE",payload:e}},K=function(e){return{type:"VERIFICATION_CAN_ADD_TASK",payload:e}},W=function(e){return{type:"CHANGE_ERROR_STATUS",payload:e}},P=function(e){return""!==e.target.value&&" "!==e.target.value?{type:"VARIFICATION_INPUT",error:!1,canAddTask:!0}:{type:"VARIFICATION_INPUT",error:!0,canAddTask:!1}},J=function(e){return{type:"ADD_TASK",payload:e}},X=function(e){return{type:"FINISH_TASK",payload:e}},z=function(e){return{type:"DELETE_TASK",id:e}},Y=function(e){return{type:"TAB_CHANGE_ACTIVE",value:e}},$=function(e){return{type:"MODAL_CONTROLER",modalIsOpen:e}},q=function(){for(var e=function(e,t){return Math.round(Math.random()*(t-e)+e)},t=[],a=(new Date).getTime()-432e5,n=0;n<e(10,15);n++){var r=e(6e5,54e5),o=a+r;t=[].concat(Object(G.a)(t),[{id:a,start:a,end:o,spend:r,isCompleted:!0,hour:new Date(a).getHours(),name:"random task \u2116".concat(n+1)}]),a=o+e(0,6e5)}return{type:"GENERETE_TASKS",newTasks:t}},Q=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).onUnload=function(){var e=a.props.tasks;localStorage.removeItem("tasks"),localStorage.setItem("tasks",JSON.stringify(e))},a.addInterval=function(){var e=a.props,t=e.timerBtnChangeValue,n=e.addNewTask,r=new Date;localStorage.setItem("startLastTask",r.getTime()),localStorage.setItem("timerStatus","stop"),n({start:r.getTime(),hour:r.getHours(),isCompleted:!1}),t("stop");var o=setInterval((function(){return a.setState({timer:(new Date).getTime()-r})}),1e3);a.setState({interval:o})},a.removeInterval=function(){var e=a.props,t=e.canAddTask,n=e.verificationCanAddTask,r=e.changeErrorStatus,o=e.timerBtnChangeValue,l=e.finishTask,i=e.modalControler,c=a.state.interval;t?(clearInterval(c),a.setState({timer:0}),o("start"),l({end:(new Date).getTime(),name:a.inputRef.current.value,isCompleted:!0}),r(!1),n(!1),localStorage.removeItem("startLastTask"),localStorage.removeItem("timerStatus"),a.inputRef.current.value=""):(r(!0),i(!0),a.inputRef.current.focus())},a.tabMainLog=function(){var e=a.props,t=e.deleteTask,n=e.changeTabActive,o=e.tasks;return 1===e.tabValue&&n(0),r.a.createElement(_,{deleteTask:t,tasks:o,timeToString:a.timeToString})},a.tabMainChart=function(){var e=a.props,t=e.changeTabActive,n=e.tasks,o=e.tabValue,l=e.tasksGenerator,i=[];0===o&&t(1);for(var c=0;c<24;c++)i.push({hour:c,duration:0});return i.map((function(e,t){return n.map((function(a){var n=60-new Date(a.start).getMinutes();if(e.hour===a.hour){var r=a.spend/1e3/60;if(r<=n)e.duration+=Math.floor(r);else if(r>n){e.duration+=Math.floor(n);var o=r-n;if(t<23){for(var l=1;l<Math.floor(o/60)+1;l++){var c=t+l;i[c>23?c-24:c].duration=60}i[t+1+Math.floor(o/60)>23?t+1+Math.floor(o/60)-24:t+1+Math.floor(o/60)].duration=Math.floor(o%60)}}}return a})),console.log(e),e})),r.a.createElement(N,{data:i,tasksGenerator:l})},a.closeModal=function(){(0,a.props.modalControler)(!1)},a.taskInfo=function(e){var t=a.props,n=t.deleteTask,o=t.tasks,l=r.a.createElement(U,{paramsId:e.match.params.id});return o.length>0&&o.map((function(t){return+e.match.params.id===t.id&&(l=r.a.createElement(F,{deleteTask:n,task:t,timeToString:a.timeToString})),t})),l},a.homePage=function(){var e=a.props,t=e.error,n=e.timerBtnValue,o=e.varificationInput,l=e.tabValue,i=e.modalIsOpen,c=a.state.timer;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{modalIsOpen:i,closeModal:a.closeModal,timeToString:a.timeToString}),r.a.createElement(x,{error:t,timer:c,varificationInput:o,tabValue:l,timerBtnValue:n,inputRef:a.inputRef,timeToString:a.timeToString,addInterval:a.addInterval,removeInterval:a.removeInterval,tabMainLog:a.tabMainLog,tabMainChart:a.tabMainChart}))},a.timeToString=function(e){var t=Math.floor(e/1e3/60/60%60),a=Math.floor(e/1e3/60%60),n=Math.floor(e/1e3%60);return"".concat(t<10?"0".concat(t):t,":").concat(a<10?"0".concat(a):a,":").concat(n<10?"0".concat(n):n," ")},a.state={timer:0,interval:null},a.inputRef=r.a.createRef(),a}return Object(E.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.timerBtnValue,a=localStorage.getItem("startLastTask");if("stop"===t){var n=setInterval((function(){return e.setState({timer:(new Date).getTime()-a})}),1e3);this.setState({interval:n})}window.addEventListener("unload",this.onUnload)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unload",this.onUnload)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{exact:!0,path:"/todoList/",component:this.homePage}),r.a.createElement(h.a,{path:"/todoList/task/:id",component:this.taskInfo}),r.a.createElement(h.a,{path:"/todoList/tasks-chart",component:this.homePage}))}}]),t}(r.a.Component),Z=Object(i.b)((function(e){return{timerBtnValue:e.timerBtnValue,counter:e.counter,canAddTask:e.canAddTask,error:e.error,tasks:e.tasks,tabValue:e.tabValue,modalIsOpen:e.modalIsOpen,isCompleted:e.isCompleted,startLastTask:e.startLastTask}}),(function(e){return{timerBtnChangeValue:Object(s.a)(H,e),verificationCanAddTask:Object(s.a)(K,e),changeErrorStatus:Object(s.a)(W,e),varificationInput:Object(s.a)(P,e),addNewTask:Object(s.a)(J,e),finishTask:Object(s.a)(X,e),deleteTask:Object(s.a)(z,e),changeTabActive:Object(s.a)(Y,e),modalControler:Object(s.a)($,e),tasksGenerator:Object(s.a)(q,e)}}))(Q),ee=a(29),te=JSON.parse(localStorage.getItem("startLastTask")),ae=localStorage.getItem("timerStatus"),ne=JSON.parse(localStorage.getItem("tasks")),re={timerBtnValue:null!==ae?ae:"start",canAddTask:!1,error:!1,tasks:null!==ne?ne:[],tabValue:0,chartData:[],startLastTask:null===te?0:te,modalIsOpen:!1},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TIMER_BTN_CHANGE_VALUE":return Object(ee.a)({},e,{timerBtnValue:t.payload});case"VERIFICATION_CAN_ADD_TASK":return Object(ee.a)({},e,{canAddTask:t.payload});case"CHANGE_ERROR_STATUS":return Object(ee.a)({},e,{error:t.payload});case"VARIFICATION_INPUT":return Object(ee.a)({},e,{error:t.error,canAddTask:t.canAddTask});case"ADD_TASK":return Object(ee.a)({},e,{tasks:[].concat(Object(G.a)(e.tasks),[{id:t.payload.start,start:t.payload.start,end:0,spend:0,isCompleted:t.payload.isCompleted,hour:t.payload.hour}]),startLastTask:t.payload.start});case"FINISH_TASK":return Object(ee.a)({},e,{tasks:e.tasks.map((function(a,n){return n===e.tasks.length-1?(a.name=t.payload.name,a.end=t.payload.end,a.spend=t.payload.end-a.start,a.isCompleted=t.payload.isCompleted,a):a}))});case"DELETE_TASK":return Object(ee.a)({},e,{tasks:e.tasks.filter((function(e){return e.id!==t.id}))});case"TAB_CHANGE_ACTIVE":return Object(ee.a)({},e,{tabValue:t.value});case"MODAL_CONTROLER":return Object(ee.a)({},e,{modalIsOpen:t.modalIsOpen});case"GENERETE_TASKS":return Object(ee.a)({},e,{tasks:t.newTasks});default:return e}},le=Object(s.b)(oe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var ie=function(){return r.a.createElement(i.a,{store:le},r.a.createElement(c.a,null,r.a.createElement(Z,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[232,1,2]]]);
//# sourceMappingURL=main.221e35e4.chunk.js.map